apply plugin: 'java'

repositories {
    mavenCentral()
    jcenter()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    implementation group: "org.dita-ot", name: "dost", version: "[3.4,)"
    implementation group: 'net.sf.saxon', name: 'Saxon-HE', version: '9.9.1-7'
    testImplementation 'junit:junit:4.13'
}

sourceSets {
    main {
        resources {
            srcDirs= ["src/generator"]
            include "**/*.xsl"
        }
    }
}

task dist(type: Zip, dependsOn: [jar]) {
    into("lib") {
        from ("build/libs") {
            include "*.jar"
        }
    }
    into("") {
        from ("src/main/resources") {
            include "build.xml"
            include "plugin.xml"
        }
    }
    archiveFileName = "com.elovirta.pdf.zip"
}
